{"version":3,"sources":["webpack:///2.js/BlogEdit.js","webpack:///./src/Component/BlogEdit.jsx"],"names":["webpackJsonp","296","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","select","state","sideBarStatus","sideBarToggle","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_react","_react2","_reactRedux","_Tool","_Index","BlogEdit","_Component","this","_this","getPrototypeOf","toolBar","type","name","icon","callBack","dataPost","postData","title","remark","content","_this2","Tool","get","then","data","token","params","id","post","console","log","router","push","catch","err","event","setState","dispatch","setFilters","setToolBar","initPostData","document","body","scrollTop","_this3","result","_this4","createElement","className","onChange","dataChange","placeholder","Component","propTypes","PropTypes","bool","isRequired","connect"],"mappings":"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","file":"2.js/BlogEdit.js?v=d5ccf6","sourcesContent":["webpackJsonp([2],{\n\n/***/ 296:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRouter = __webpack_require__(220);\n\t\n\tvar _reactRedux = __webpack_require__(171);\n\t\n\tvar _immutable = __webpack_require__(281);\n\t\n\tvar _Tool = __webpack_require__(285);\n\t\n\tvar _Index = __webpack_require__(287);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar BlogEdit = function (_Component) {\n\t  _inherits(BlogEdit, _Component);\n\t\n\t  function BlogEdit() {\n\t    _classCallCheck(this, BlogEdit);\n\t\n\t    var _this = _possibleConstructorReturn(this, (BlogEdit.__proto__ || Object.getPrototypeOf(BlogEdit)).call(this));\n\t\n\t    _this.state = {\n\t      toolBar: [{\n\t        type: 'link',\n\t        name: '取消',\n\t        icon: 'iconfont icon-close',\n\t        callBack: '/blogs'\n\t      }, {\n\t        type: 'action',\n\t        name: '保存',\n\t        icon: 'iconfont icon-check',\n\t        callBack: function callBack() {\n\t          _this.dataPost();\n\t        }\n\t      }],\n\t      postData: {\n\t        title: '',\n\t        remark: '',\n\t        content: ''\n\t      }\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(BlogEdit, [{\n\t    key: 'dataPost',\n\t    value: function dataPost() {\n\t      var _this2 = this;\n\t\n\t      var postData = this.state.postData;\n\t      postData.icon = '/images/404.jpg';\n\t      _Tool.Tool.get('/token').then(function (data) {\n\t        postData.token = data.token;\n\t        if (_this2.props.params.id) {\n\t          postData.id = _this2.props.params.id;\n\t          _Tool.Tool.post('/blog/set', postData).then(function (data) {\n\t            console.log('success', _this2.props);\n\t            _this2.props.router.push('/blogs');\n\t          }).catch(function (err) {\n\t            console.log('error', err);\n\t          });\n\t        } else {\n\t          _Tool.Tool.post('/blog/new', postData).then(function (data) {\n\t            console.log('success', data);\n\t          }).catch(function (err) {\n\t            console.log('error', err);\n\t          });\n\t        }\n\t      }).catch(function (err) {\n\t        console.log('get Token error', err);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'dataChange',\n\t    value: function dataChange(event, key) {\n\t      var data = this.state.postData;\n\t      data[key] = event.target.value;\n\t      this.setState({\n\t        postData: data\n\t      });\n\t    }\n\t  }, {\n\t    key: 'componentWillMount',\n\t    value: function componentWillMount() {\n\t      this.props.dispatch((0, _Index.setFilters)([]));\n\t      this.props.dispatch((0, _Index.setToolBar)(this.state.toolBar));\n\t      this.initPostData();\n\t      document.body.scrollTop = 0;\n\t    }\n\t  }, {\n\t    key: 'initPostData',\n\t    value: function initPostData() {\n\t      var _this3 = this;\n\t\n\t      if (this.props.params.id) {\n\t        _Tool.Tool.get('/blog/get/' + this.props.params.id).then(function (data) {\n\t          _this3.setState({\n\t            postData: {\n\t              title: data.result.title,\n\t              remark: data.result.remark,\n\t              content: data.result.content\n\t            }\n\t          });\n\t        }).catch(function (err) {\n\t          console.log('get error', err);\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this4 = this;\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: this.props.sideBarStatus ? 'edit-container wide' : 'edit-container' },\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'input-block' },\n\t          _react2.default.createElement(\n\t            'label',\n\t            null,\n\t            '\\u6807\\u9898'\n\t          ),\n\t          _react2.default.createElement('input', { type: 'text', value: this.state.postData.title, onChange: function onChange(event) {\n\t              return _this4.dataChange(event, 'title');\n\t            }, placeholder: '\\u8F93\\u5165\\u6587\\u7AE0\\u6807\\u9898' })\n\t        ),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'input-block' },\n\t          _react2.default.createElement(\n\t            'label',\n\t            null,\n\t            '\\u6458\\u8981'\n\t          ),\n\t          _react2.default.createElement('input', { type: 'text', value: this.state.postData.remark, onChange: function onChange(event) {\n\t              return _this4.dataChange(event, 'remark');\n\t            }, placeholder: '\\u8F93\\u5165\\u6587\\u7AE0\\u6458\\u8981' })\n\t        ),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'input-block' },\n\t          _react2.default.createElement(\n\t            'label',\n\t            null,\n\t            '\\u6B63\\u6587'\n\t          ),\n\t          _react2.default.createElement('textarea', { placeholder: '\\u6587\\u7AE0\\u6B63\\u6587', value: this.state.postData.content, onChange: function onChange(event) {\n\t              return _this4.dataChange(event, 'content');\n\t            } })\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return BlogEdit;\n\t}(_react.Component);\n\t\n\tBlogEdit.propTypes = {\n\t  sideBarStatus: _react.PropTypes.bool.isRequired\n\t};\n\t\n\tfunction select(state) {\n\t  return {\n\t    sideBarStatus: state.sideBarToggle\n\t  };\n\t}\n\t\n\texports.default = (0, _reactRedux.connect)(select)(BlogEdit);\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// 2.js/BlogEdit.js?v=d5ccf6","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouter = require('react-router');\n\nvar _reactRedux = require('react-redux');\n\nvar _immutable = require('immutable');\n\nvar _Tool = require('../Libs/Tool');\n\nvar _Index = require('../Redux/Action/Index');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BlogEdit = function (_Component) {\n  _inherits(BlogEdit, _Component);\n\n  function BlogEdit() {\n    _classCallCheck(this, BlogEdit);\n\n    var _this = _possibleConstructorReturn(this, (BlogEdit.__proto__ || Object.getPrototypeOf(BlogEdit)).call(this));\n\n    _this.state = {\n      toolBar: [{\n        type: 'link',\n        name: '取消',\n        icon: 'iconfont icon-close',\n        callBack: '/blogs'\n      }, {\n        type: 'action',\n        name: '保存',\n        icon: 'iconfont icon-check',\n        callBack: function callBack() {\n          _this.dataPost();\n        }\n      }],\n      postData: {\n        title: '',\n        remark: '',\n        content: ''\n      }\n    };\n    return _this;\n  }\n\n  _createClass(BlogEdit, [{\n    key: 'dataPost',\n    value: function dataPost() {\n      var _this2 = this;\n\n      var postData = this.state.postData;\n      postData.icon = '/images/404.jpg';\n      _Tool.Tool.get('/token').then(function (data) {\n        postData.token = data.token;\n        if (_this2.props.params.id) {\n          postData.id = _this2.props.params.id;\n          _Tool.Tool.post('/blog/set', postData).then(function (data) {\n            console.log('success', _this2.props);\n            _this2.props.router.push('/blogs');\n          }).catch(function (err) {\n            console.log('error', err);\n          });\n        } else {\n          _Tool.Tool.post('/blog/new', postData).then(function (data) {\n            console.log('success', data);\n          }).catch(function (err) {\n            console.log('error', err);\n          });\n        }\n      }).catch(function (err) {\n        console.log('get Token error', err);\n      });\n    }\n  }, {\n    key: 'dataChange',\n    value: function dataChange(event, key) {\n      var data = this.state.postData;\n      data[key] = event.target.value;\n      this.setState({\n        postData: data\n      });\n    }\n  }, {\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.props.dispatch((0, _Index.setFilters)([]));\n      this.props.dispatch((0, _Index.setToolBar)(this.state.toolBar));\n      this.initPostData();\n      document.body.scrollTop = 0;\n    }\n  }, {\n    key: 'initPostData',\n    value: function initPostData() {\n      var _this3 = this;\n\n      if (this.props.params.id) {\n        _Tool.Tool.get('/blog/get/' + this.props.params.id).then(function (data) {\n          _this3.setState({\n            postData: {\n              title: data.result.title,\n              remark: data.result.remark,\n              content: data.result.content\n            }\n          });\n        }).catch(function (err) {\n          console.log('get error', err);\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      return _react2.default.createElement(\n        'div',\n        { className: this.props.sideBarStatus ? 'edit-container wide' : 'edit-container' },\n        _react2.default.createElement(\n          'div',\n          { className: 'input-block' },\n          _react2.default.createElement(\n            'label',\n            null,\n            '\\u6807\\u9898'\n          ),\n          _react2.default.createElement('input', { type: 'text', value: this.state.postData.title, onChange: function onChange(event) {\n              return _this4.dataChange(event, 'title');\n            }, placeholder: '\\u8F93\\u5165\\u6587\\u7AE0\\u6807\\u9898' })\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'input-block' },\n          _react2.default.createElement(\n            'label',\n            null,\n            '\\u6458\\u8981'\n          ),\n          _react2.default.createElement('input', { type: 'text', value: this.state.postData.remark, onChange: function onChange(event) {\n              return _this4.dataChange(event, 'remark');\n            }, placeholder: '\\u8F93\\u5165\\u6587\\u7AE0\\u6458\\u8981' })\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'input-block' },\n          _react2.default.createElement(\n            'label',\n            null,\n            '\\u6B63\\u6587'\n          ),\n          _react2.default.createElement('textarea', { placeholder: '\\u6587\\u7AE0\\u6B63\\u6587', value: this.state.postData.content, onChange: function onChange(event) {\n              return _this4.dataChange(event, 'content');\n            } })\n        )\n      );\n    }\n  }]);\n\n  return BlogEdit;\n}(_react.Component);\n\nBlogEdit.propTypes = {\n  sideBarStatus: _react.PropTypes.bool.isRequired\n};\n\nfunction select(state) {\n  return {\n    sideBarStatus: state.sideBarToggle\n  };\n}\n\nexports.default = (0, _reactRedux.connect)(select)(BlogEdit);\n\n\n// WEBPACK FOOTER //\n// ./~/babel-loader/lib?presets[]=es2015,presets[]=react!./src/Component/BlogEdit.jsx"],"sourceRoot":""}