{"version":3,"sources":["webpack:///3.js/TagEdit.js","webpack:///./src/Component/TagEdit.jsx"],"names":["webpackJsonp","300","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","select","state","sideBarStatus","sideBarToggle","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_react","_react2","_reactRedux","_Tool","_Index","TagEdit","_Component","this","_this","getPrototypeOf","toolBar","type","name","icon","callBack","dispatch","setConfirmDialog","title","confirmCallback","closeConfirmDialog","dataPost","postData","_this2","Tool","get","then","data","token","params","id","post","showMessage","code","text","msg","router","push","catch","err","event","setState","setFilters","setToolBar","initPostData","document","body","scrollTop","_this3","result","_this4","createElement","className","onChange","dataChange","placeholder","Component","propTypes","PropTypes","bool","isRequired","connect"],"mappings":"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","file":"3.js/TagEdit.js?v=e195c2","sourcesContent":["webpackJsonp([3],{\n\n/***/ 300:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(1);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactRouter = __webpack_require__(220);\n\t\n\tvar _reactRedux = __webpack_require__(171);\n\t\n\tvar _immutable = __webpack_require__(281);\n\t\n\tvar _Tool = __webpack_require__(285);\n\t\n\tvar _Index = __webpack_require__(287);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar TagEdit = function (_Component) {\n\t  _inherits(TagEdit, _Component);\n\t\n\t  function TagEdit() {\n\t    _classCallCheck(this, TagEdit);\n\t\n\t    var _this = _possibleConstructorReturn(this, (TagEdit.__proto__ || Object.getPrototypeOf(TagEdit)).call(this));\n\t\n\t    _this.state = {\n\t      toolBar: [{\n\t        type: 'link',\n\t        name: '取消',\n\t        icon: 'iconfont icon-close',\n\t        callBack: '/tags'\n\t      }, {\n\t        type: 'action',\n\t        name: '保存',\n\t        icon: 'iconfont icon-check',\n\t        callBack: function callBack() {\n\t          _this.props.dispatch((0, _Index.setConfirmDialog)({\n\t            title: '确认要保存嘛？',\n\t            confirmCallback: function confirmCallback() {\n\t              _this.props.dispatch((0, _Index.closeConfirmDialog)());\n\t              _this.dataPost();\n\t            }\n\t          }));\n\t        }\n\t      }],\n\t      postData: {\n\t        name: '',\n\t        type: 1\n\t      }\n\t    };\n\t    return _this;\n\t  }\n\t\n\t  _createClass(TagEdit, [{\n\t    key: 'dataPost',\n\t    value: function dataPost() {\n\t      var _this2 = this;\n\t\n\t      var postData = this.state.postData;\n\t      _Tool.Tool.get('/token').then(function (data) {\n\t        postData.token = data.token;\n\t        if (_this2.props.params.id) {\n\t          postData.id = _this2.props.params.id;\n\t          _Tool.Tool.post('/tag/set', postData).then(function (data) {\n\t            _this2.props.dispatch((0, _Index.showMessage)({\n\t              type: data.code === 0 ? 'success' : 'warn',\n\t              text: data.msg\n\t            }));\n\t            if (data.code === 0) {\n\t              _this2.props.router.push('/tags');\n\t            }\n\t          }).catch(function (err) {\n\t            _this2.props.dispatch((0, _Index.showMessage)({\n\t              type: 'danger',\n\t              text: '网络错误，请稍后重试'\n\t            }));\n\t          });\n\t        } else {\n\t          _Tool.Tool.post('/tag/new', postData).then(function (data) {\n\t            _this2.props.dispatch((0, _Index.showMessage)({\n\t              type: data.code === 0 ? 'success' : 'warn',\n\t              text: data.msg\n\t            }));\n\t            if (data.code === 0) {\n\t              _this2.props.router.push('/tags');\n\t            }\n\t          }).catch(function (err) {\n\t            _this2.props.dispatch((0, _Index.showMessage)({\n\t              type: 'danger',\n\t              text: '网络错误，请稍后重试'\n\t            }));\n\t          });\n\t        }\n\t      }).catch(function (err) {\n\t        _this2.props.dispatch((0, _Index.showMessage)({\n\t          type: 'danger',\n\t          text: '网络错误，请稍后重试'\n\t        }));\n\t      });\n\t    }\n\t  }, {\n\t    key: 'dataChange',\n\t    value: function dataChange(event, key) {\n\t      var data = this.state.postData;\n\t      data[key] = event.target.value;\n\t      this.setState({\n\t        postData: data\n\t      });\n\t    }\n\t  }, {\n\t    key: 'componentWillMount',\n\t    value: function componentWillMount() {\n\t      this.props.dispatch((0, _Index.setFilters)([]));\n\t      this.props.dispatch((0, _Index.setToolBar)(this.state.toolBar));\n\t      this.initPostData();\n\t      document.body.scrollTop = 0;\n\t    }\n\t  }, {\n\t    key: 'initPostData',\n\t    value: function initPostData() {\n\t      var _this3 = this;\n\t\n\t      if (this.props.params.id) {\n\t        _Tool.Tool.get('/tag/get/' + this.props.params.id).then(function (data) {\n\t          _this3.setState({\n\t            postData: {\n\t              name: data.result.name\n\t            }\n\t          });\n\t        }).catch(function (err) {\n\t          _this3.props.dispatch((0, _Index.showMessage)({\n\t            type: 'danger',\n\t            text: '网络错误，请稍后重试'\n\t          }));\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this4 = this;\n\t\n\t      return _react2.default.createElement(\n\t        'div',\n\t        { className: this.props.sideBarStatus ? 'edit-container wide' : 'edit-container' },\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'input-block' },\n\t          _react2.default.createElement(\n\t            'label',\n\t            null,\n\t            '\\u540D\\u79F0'\n\t          ),\n\t          _react2.default.createElement('input', { type: 'text', value: this.state.postData.name, onChange: function onChange(event) {\n\t              return _this4.dataChange(event, 'name');\n\t            }, placeholder: '\\u8F93\\u5165\\u6807\\u7B7E\\u540D\\u79F0' })\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return TagEdit;\n\t}(_react.Component);\n\t\n\tTagEdit.propTypes = {\n\t  sideBarStatus: _react.PropTypes.bool.isRequired\n\t};\n\t\n\tfunction select(state) {\n\t  return {\n\t    sideBarStatus: state.sideBarToggle\n\t  };\n\t}\n\t\n\texports.default = (0, _reactRedux.connect)(select)(TagEdit);\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// 3.js/TagEdit.js?v=e195c2","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouter = require('react-router');\n\nvar _reactRedux = require('react-redux');\n\nvar _immutable = require('immutable');\n\nvar _Tool = require('../Libs/Tool');\n\nvar _Index = require('../Redux/Action/Index');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TagEdit = function (_Component) {\n  _inherits(TagEdit, _Component);\n\n  function TagEdit() {\n    _classCallCheck(this, TagEdit);\n\n    var _this = _possibleConstructorReturn(this, (TagEdit.__proto__ || Object.getPrototypeOf(TagEdit)).call(this));\n\n    _this.state = {\n      toolBar: [{\n        type: 'link',\n        name: '取消',\n        icon: 'iconfont icon-close',\n        callBack: '/tags'\n      }, {\n        type: 'action',\n        name: '保存',\n        icon: 'iconfont icon-check',\n        callBack: function callBack() {\n          _this.props.dispatch((0, _Index.setConfirmDialog)({\n            title: '确认要保存嘛？',\n            confirmCallback: function confirmCallback() {\n              _this.props.dispatch((0, _Index.closeConfirmDialog)());\n              _this.dataPost();\n            }\n          }));\n        }\n      }],\n      postData: {\n        name: '',\n        type: 1\n      }\n    };\n    return _this;\n  }\n\n  _createClass(TagEdit, [{\n    key: 'dataPost',\n    value: function dataPost() {\n      var _this2 = this;\n\n      var postData = this.state.postData;\n      _Tool.Tool.get('/token').then(function (data) {\n        postData.token = data.token;\n        if (_this2.props.params.id) {\n          postData.id = _this2.props.params.id;\n          _Tool.Tool.post('/tag/set', postData).then(function (data) {\n            _this2.props.dispatch((0, _Index.showMessage)({\n              type: data.code === 0 ? 'success' : 'warn',\n              text: data.msg\n            }));\n            if (data.code === 0) {\n              _this2.props.router.push('/tags');\n            }\n          }).catch(function (err) {\n            _this2.props.dispatch((0, _Index.showMessage)({\n              type: 'danger',\n              text: '网络错误，请稍后重试'\n            }));\n          });\n        } else {\n          _Tool.Tool.post('/tag/new', postData).then(function (data) {\n            _this2.props.dispatch((0, _Index.showMessage)({\n              type: data.code === 0 ? 'success' : 'warn',\n              text: data.msg\n            }));\n            if (data.code === 0) {\n              _this2.props.router.push('/tags');\n            }\n          }).catch(function (err) {\n            _this2.props.dispatch((0, _Index.showMessage)({\n              type: 'danger',\n              text: '网络错误，请稍后重试'\n            }));\n          });\n        }\n      }).catch(function (err) {\n        _this2.props.dispatch((0, _Index.showMessage)({\n          type: 'danger',\n          text: '网络错误，请稍后重试'\n        }));\n      });\n    }\n  }, {\n    key: 'dataChange',\n    value: function dataChange(event, key) {\n      var data = this.state.postData;\n      data[key] = event.target.value;\n      this.setState({\n        postData: data\n      });\n    }\n  }, {\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.props.dispatch((0, _Index.setFilters)([]));\n      this.props.dispatch((0, _Index.setToolBar)(this.state.toolBar));\n      this.initPostData();\n      document.body.scrollTop = 0;\n    }\n  }, {\n    key: 'initPostData',\n    value: function initPostData() {\n      var _this3 = this;\n\n      if (this.props.params.id) {\n        _Tool.Tool.get('/tag/get/' + this.props.params.id).then(function (data) {\n          _this3.setState({\n            postData: {\n              name: data.result.name\n            }\n          });\n        }).catch(function (err) {\n          _this3.props.dispatch((0, _Index.showMessage)({\n            type: 'danger',\n            text: '网络错误，请稍后重试'\n          }));\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      return _react2.default.createElement(\n        'div',\n        { className: this.props.sideBarStatus ? 'edit-container wide' : 'edit-container' },\n        _react2.default.createElement(\n          'div',\n          { className: 'input-block' },\n          _react2.default.createElement(\n            'label',\n            null,\n            '\\u540D\\u79F0'\n          ),\n          _react2.default.createElement('input', { type: 'text', value: this.state.postData.name, onChange: function onChange(event) {\n              return _this4.dataChange(event, 'name');\n            }, placeholder: '\\u8F93\\u5165\\u6807\\u7B7E\\u540D\\u79F0' })\n        )\n      );\n    }\n  }]);\n\n  return TagEdit;\n}(_react.Component);\n\nTagEdit.propTypes = {\n  sideBarStatus: _react.PropTypes.bool.isRequired\n};\n\nfunction select(state) {\n  return {\n    sideBarStatus: state.sideBarToggle\n  };\n}\n\nexports.default = (0, _reactRedux.connect)(select)(TagEdit);\n\n\n// WEBPACK FOOTER //\n// ./~/babel-loader/lib?presets[]=es2015,presets[]=react!./src/Component/TagEdit.jsx"],"sourceRoot":""}